define(["jquery","core/config","core/templates","core/modal_factory","core/modal_events","core/str"],function(e,o,c,i,n,t){return{init:function(t,r,l,u){if(1==r)var a={hide:r,coursename:l};else a={coursename:l};e(".btn-hidecourse, .btn-showcourse").click(function(l){l.preventDefault(),i.create({type:i.types.SAVE_CANCEL,title:c.render("block_mmquicklink/modal_hidecourse_title",a),body:c.render("block_mmquicklink/modal_hidecourse_body",a)}).then(function(c){var i=c.getRoot();i.on(n.save,function(){e.get(o.wwwroot+"/blocks/mmquicklink/changevisibility.php",{id:t,hide:r,confirm:1}).done(function(e){location.reload()})}),c.show()})}),e(".btn-archivecourse").click(function(r){r.preventDefault(),i.create({type:i.types.SAVE_CANCEL,title:c.render("block_mmquicklink/modal_archivecourse_title",a),body:c.render("block_mmquicklink/modal_archivecourse_body",a)}).then(function(c){c.getRoot().on(n.save,function(){e.get(o.wwwroot+"/blocks/mmquicklink/archive.php",{courseid:t,categoryid:u,confirm:1}).done(function(e){location.reload()})}),c.show()})})}}});