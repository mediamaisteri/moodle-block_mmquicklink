define("block_mmquicklink/confirm",["jquery","core/config","core/templates","core/modal_factory","core/modal_events","core/str","core/notification"],(function($,mdlcfg,templates,ModalFactory,ModalEvents,str,notification){return{init:function(courseid,hide,coursename,categoryid){var showhideaction,data;1==hide?(showhideaction="hidecourse",data={hide:hide,coursename:coursename}):(showhideaction="showcourse",data={coursename:coursename}),$(".btn-deletecourse").click((function(e){e.preventDefault(),function(templateData){var strings=[{key:"delete_course_modal_title",component:"block_mmquicklink"},{key:"delete_course_success_msg",component:"block_mmquicklink"},{key:"delete_course_failed_msg",component:"block_mmquicklink"}];str.get_strings(strings).then((function(translatedString){ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:templates.render("block_mmquicklink/modal_deletecourse_title",templateData),body:templates.render("block_mmquicklink/modal_deletecourse_body",templateData)}).then((function(modal){var deleteButtonText=translatedString[0];modal.setSaveButtonText(deleteButtonText),modal.getRoot().on(ModalEvents.save,(function(){var deleteSuccessMessage=translatedString[1],deleteFailMessage=translatedString[2];$.get(mdlcfg.wwwroot+"/blocks/mmquicklink/delete.php",{id:courseid}).then((function(){notification.addNotification({message:deleteSuccessMessage,type:"success"}),setTimeout((function(){location.href=mdlcfg.wwwroot}),1e3)})).catch((function(error){notification.addNotification({message:deleteFailMessage,type:"error"})}))})),modal.show()}))}))}({coursename:coursename})})),$(".btn-hidecourse, .btn-showcourse").click((function(e){e.preventDefault(),function(showhideaction,data){ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:templates.render("block_mmquicklink/modal_hidecourse_title",data),body:templates.render("block_mmquicklink/modal_hidecourse_body",data)}).then((function(modal){modal.getRoot().on(ModalEvents.save,(function(){$.get(mdlcfg.wwwroot+"/course/ajax/management.php",{courseid:courseid,action:showhideaction,confirm:1,sesskey:mdlcfg.sesskey}).done((function(){$.get(mdlcfg.wwwroot+"/blocks/mmquicklink/changevisibility.php",{courseid:courseid,action:showhideaction,confirm:1,sesskey:mdlcfg.sesskey}).done((function(){location.reload()}))}))})),modal.show()}))}(showhideaction,data)})),$(".btn-archivecourse").click((function(e){e.preventDefault(),ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:templates.render("block_mmquicklink/modal_archivecourse_title",data),body:templates.render("block_mmquicklink/modal_archivecourse_body",data)}).then((function(modal){modal.getRoot().on(ModalEvents.save,(function(){$.get(mdlcfg.wwwroot+"/blocks/mmquicklink/archive.php",{courseid:courseid,categoryid:categoryid,confirm:1}).done((function(data){location.reload()}))})),modal.show()}))}))}}}));

//# sourceMappingURL=confirm.min.js.map