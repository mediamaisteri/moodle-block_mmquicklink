define(["jquery","core/config","core/templates","core/modal_factory","core/modal_events","core/str"],function(e,o,c,n,t,i){return{init:function(i,r,s,u){var a,l;1==r?(a="hidecourse",l={hide:r,coursename:s}):(a="showcourse",l={coursename:s}),e(".btn-hidecourse, .btn-showcourse").click(function(r){r.preventDefault(),function(r,s){n.create({type:n.types.SAVE_CANCEL,title:c.render("block_mmquicklink/modal_hidecourse_title",s),body:c.render("block_mmquicklink/modal_hidecourse_body",s)}).then(function(c){var n=c.getRoot();n.on(t.save,function(){e.get(o.wwwroot+"/course/ajax/management.php",{courseid:i,action:r,confirm:1,sesskey:o.sesskey}).done(function(){e.get(o.wwwroot+"/blocks/mmquicklink/changevisibility.php",{courseid:i,action:r,confirm:1,sesskey:o.sesskey}).done(function(){location.reload()})})}),c.show()})}(a,l)}),e(".btn-archivecourse").click(function(r){r.preventDefault(),n.create({type:n.types.SAVE_CANCEL,title:c.render("block_mmquicklink/modal_archivecourse_title",l),body:c.render("block_mmquicklink/modal_archivecourse_body",l)}).then(function(c){c.getRoot().on(t.save,function(){e.get(o.wwwroot+"/blocks/mmquicklink/archive.php",{courseid:i,categoryid:u,confirm:1}).done(function(e){location.reload()})}),c.show()})})}}});