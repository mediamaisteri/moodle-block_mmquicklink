define(["jquery","core/config","core/templates","core/modal_factory","core/modal_events","core/str"],function(e,o,c,n,t,i){return{init:function(i,r,s,u){function a(){n.create({type:n.types.SAVE_CANCEL,title:c.render("block_mmquicklink/modal_hidecourse_title",m),body:c.render("block_mmquicklink/modal_hidecourse_body",m)}).then(function(c){var n=c.getRoot();n.on(t.save,function(){e.get(o.wwwroot+"/course/ajax/management.php",{courseid:i,action:d,confirm:1,sesskey:o.sesskey}).done(function(e){location.reload()})}),c.show()})}function l(){n.create({type:n.types.SAVE_CANCEL,title:c.render("block_mmquicklink/modal_archivecourse_title",m),body:c.render("block_mmquicklink/modal_archivecourse_body",m)}).then(function(c){var n=c.getRoot();n.on(t.save,function(){e.get(o.wwwroot+"/blocks/mmquicklink/archive.php",{courseid:i,categoryid:u,confirm:1}).done(function(e){location.reload()})}),c.show()})}if(console.log(o.sesskey),1==r)var d="hidecourse",m={hide:r,coursename:s};else d="showcourse",m={coursename:s};e(".btn-hidecourse, .btn-showcourse").click(function(e){e.preventDefault(),a()}),e(".btn-archivecourse").click(function(e){e.preventDefault(),l()})}}});